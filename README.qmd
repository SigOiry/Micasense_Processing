---
title: "Micasense RedEdge-MX DUAL processing"
author: "Simon Oiry"
format: 
   gfm:
     html-math-method: 
       method: webtex
       url: https://latex.codecogs.com/png.image?%5Cbg_black&space;
editor: visual
editor_options: 
  chunk_output_type: console
---

This workflow is an adaptation of the micasense workflow to process manually images coming from the micasense RedEdge-MX Dual camera. The original workflow can be found [here](https://github.com/micasense/imageprocessing) and has originally been written in Python.


## Packages 

The first thing to do is to ensure that all the packages are ready to be used. The [exiftoolr](https://github.com/JoshOBrien/exiftoolr) packages is used to read Exif of tiff files. After installing the package you  will need to run this line of code : `exiftoolr::install_exiftool()`. 



```{r Packages}
#| echo: true
#| warning: false
#| eval: true
#| code-fold: true

require(tidyverse)
require(exiftoolr)
require(terra)
```


## Locate images

```{r}
#| echo: true
#| warning: false
#| eval: true
#| code-fold: true

require(tidyverse)
require(exiftoolr)
require(terra)

image_list<-"Dual_MX_Images" %>% 
  list.files(recursive = T, full.names = T) %>% 
  as.data.frame() %>% 
  rename(path = ".") %>% 
  mutate(image_name = gsub(".*/","",path),
         image_ID = substr(image_name,5,8),
         Band = paste0("B",gsub(".*_","",image_name) %>% gsub(".tif","",.))) 
  

```


